Касательно КР 
По аналогии с первой работой, две задачи:
В разрезе требуемой функциональности: 

наследование, абстрактный класс, виртуальные функции, friend классы/функции

Вероятно, с применением контейнера (std::vector, например)